"""
ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸” ì´ˆê¸°í™” ìŠ¤í¬ë¦½íŠ¸
ê¸°ì¡´ í…Œì´ë¸”ì€ ê±´ë“œë¦¬ì§€ ì•Šê³  ìƒˆë¡œìš´ í…Œì´ë¸”ë§Œ ìƒì„±í•©ë‹ˆë‹¤.
"""
from db_connection import engine
from models.user_plan import Base


def init_db():
    """ìƒˆë¡œìš´ í…Œì´ë¸” ìƒì„± (ê¸°ì¡´ í…Œì´ë¸” ìœ ì§€)"""
    print("ğŸ”„ ìƒˆë¡œìš´ ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸” ìƒì„± ì¤‘...")
    print("   (ê¸°ì¡´ í…Œì´ë¸”ì€ ìœ ì§€ë©ë‹ˆë‹¤)")
    
    try:
        # user_travel_plans í…Œì´ë¸”ë§Œ ìƒì„±
        Base.metadata.create_all(bind=engine)
        print("âœ… ìƒˆë¡œìš´ í…Œì´ë¸”ì´ ì„±ê³µì ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!")
        print("   - user_travel_plans: ì‚¬ìš©ìë³„ ì—¬í–‰ í”Œëœ ì €ì¥ í…Œì´ë¸”")
        return True
    except Exception as e:
        print(f"âŒ í…Œì´ë¸” ìƒì„± ì‹¤íŒ¨: {str(e)}")
        return False


if __name__ == "__main__":
    print("""
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘            ğŸ” ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸” ì´ˆê¸°í™”                    â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    """)
    
    success = init_db()
    
    if success:
        print("""
âœ… ì™„ë£Œ! ì´ì œ ë‹¤ìŒ ëª…ë ¹ì–´ë¡œ ì„œë²„ë¥¼ ì‹¤í–‰í•˜ì„¸ìš”:
   python3 server.py
        """)
    else:
        print("""
âŒ í…Œì´ë¸” ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.
   .env íŒŒì¼ì˜ DATABASE ì„¤ì •ì„ í™•ì¸í•˜ì„¸ìš”.
        """)

